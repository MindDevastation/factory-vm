# Copy to deploy/env and fill values. Do NOT commit real secrets.

# Paths
FACTORY_DB_PATH=./data/factory.sqlite3
FACTORY_STORAGE_ROOT=./storage

# HTTP
FACTORY_BIND=0.0.0.0
FACTORY_PORT=8080
FACTORY_BASIC_AUTH_USER=admin
FACTORY_BASIC_AUTH_PASS=change_me

# Google Drive origin
# This must be the folder ID of /FactoryOrigin
GDRIVE_ROOT_ID=YOUR_FACTORYORIGIN_FOLDER_ID

# Choose ONE auth method for Drive:
# 1) Service account (recommended): share the FactoryOrigin folder with the service account email.
GDRIVE_SERVICE_ACCOUNT_JSON=/secure/gdrive_service_account.json
# 2) OAuth (optional):
# GDRIVE_OAUTH_CLIENT_JSON=/secure/gdrive_client_secret.json
# GDRIVE_OAUTH_TOKEN_JSON=/secure/gdrive_token.json

# YouTube OAuth
# Per-channel convention (preferred): <YT_TOKEN_BASE_DIR>/<channel_slug>/token.json
YT_TOKEN_BASE_DIR=/secure/youtube
# Optional convention for client secret if YT_CLIENT_SECRET_JSON is not set:
# <YT_CLIENT_SECRET_BASE_DIR>/client_secret.json
YT_CLIENT_SECRET_BASE_DIR=/secure/youtube
# Global fallback (used when convention vars are missing):
YT_CLIENT_SECRET_JSON=/secure/youtube/client_secret.json
YT_TOKEN_JSON=/secure/youtube/global/token.json

# Telegram
TG_BOT_TOKEN=YOUR_TELEGRAM_BOT_TOKEN
TG_ADMIN_CHAT_ID=0  # must be numeric (Telegram chat id)

# Optional: how often workers tick (seconds)
WORKER_SLEEP_SEC=5

# Reliability
JOB_LOCK_TTL_SEC=43200
RETRY_BACKOFF_SEC=300
MAX_RENDER_ATTEMPTS=3
MAX_UPLOAD_ATTEMPTS=3
QA_VOLUMEDETECT_SECONDS=180


# Runtime switching
# prod: ORIGIN_BACKEND=gdrive UPLOAD_BACKEND=youtube TELEGRAM_ENABLED=1
# local: ORIGIN_BACKEND=local UPLOAD_BACKEND=mock TELEGRAM_ENABLED=0
ORIGIN_BACKEND=gdrive
ORIGIN_LOCAL_ROOT=local_origin

UPLOAD_BACKEND=youtube
TELEGRAM_ENABLED=1
